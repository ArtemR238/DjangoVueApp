(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4742e248"],{"5f02":function(s,t,e){},"5fd1":function(s,t,e){"use strict";var a=e("5f02"),i=e.n(a);i.a},"652f":function(s,t,e){"use strict";var a=e("c8a0"),i=e.n(a);i.a},8452:function(s,t,e){},c8a0:function(s,t,e){},c9d5:function(s,t,e){"use strict";var a=e("8452"),i=e.n(a);i.a},d922:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("div",{staticClass:"profile-wrapper"},[e("div",{staticClass:"column-wrap wrap__profile"},[e("div",{ref:"profile",staticClass:"profile"},[e("div",{staticClass:"profile__main-info"},[e("div",{staticClass:"profile__main-info__photo"},[e("img",{staticClass:"img",attrs:{src:s.user.photo,alt:"User photo"}})]),e("div",{staticClass:"profile__main-info__text"},[e("h2",{staticClass:"text__name"},[s._v(" "+s._s(s.user.surname+" "+s.user.name)+" "),e("span",{staticClass:"text__name__patronymic"},[s._v(" "+s._s(s.user.patronymic)+" ")])]),e("p",{staticClass:"text__department"},[s._v(" "+s._s(s.user.department)+" ")]),e("p",{staticClass:"text__bio"},[s._v(s._s(s.user.bio))]),e("p",{staticClass:"text__level"},[s._v(" Текущий уровень "),e("span",{staticClass:"text__level__count"},[s._v(" "+s._s(s.user.level)+" ")])])])]),e("div",{staticClass:"profile__stats"},[e("div",{staticClass:"profile__stats-item"},[e("CoinSvg",{staticClass:"profile__stats-icon"}),e("span",{staticClass:"profile__stats-value coins"},[s._v(s._s(s.user.stats["coins"]))])],1),e("div",{staticClass:"profile__stats-item"},[e("LightningSvg",{staticClass:"profile__stats-icon"}),e("span",{staticClass:"profile__stats-value lightnings"},[s._v(s._s(s.user.stats["lightnings"]))])],1),e("div",{staticClass:"profile__stats-item"},[e("HeartSvg",{staticClass:"profile__stats-icon"}),e("span",{staticClass:"profile__stats-value hearts"},[s._v(s._s(s.user.stats["hearts"]))])],1)]),e("div",{staticClass:"task-props"},[e("div",{staticClass:"profile__task"},[e("p",{staticClass:"profile__task-title"},[s._v("Основной квест:")]),e("h3",{staticClass:"profile__task-name"},[s._v(" "+s._s(s.user.task.taskname)+" ")]),e("ProgressBar",{staticClass:"progress-bar",attrs:{percent:s.user.task.progress}}),e("p",{staticClass:"profile__task-deadline"},[e("span",{staticClass:"progress"},[e("span",{staticClass:"gray-txt"},[s._v("Прогресс:")]),s._v(s._s(s.user.task.progress)+"% ")]),e("span",{staticClass:"gray-txt"},[s._v("Срок:")]),s._v(" до "+s._s(s.date)+" ")])],1),e("table",{staticClass:"profile__props"},[e("tr",{staticClass:"profile__props-row"},[e("td",{staticClass:"profile__props-row-title"},[s._v(" Продуктивность: ")]),e("td",{staticClass:"profile__props-row-value"},[s._v(" "+s._s(s.user.productivity)+"% ")]),e("td",{staticClass:"profile__props-row-light"},[s._v(" из 100% на сегодня ")])]),e("tr",{staticClass:"profile__props-row"},[e("td",{staticClass:"profile__props-row-title"},[s._v(" Качество: ")]),e("td",{staticClass:"profile__props-row-value"},[s._v(" "+s._s(s.user.quality)+" ")]),e("td",{staticClass:"profile__props-row-light"},[s._v(" из 100 на сегодня ")])]),e("tr",{staticClass:"profile__props-row level"},[e("td",{staticClass:"profile__props-row-title"},[s._v(" Текущий уровень: ")]),e("td",{staticClass:"profile__props-row-value"},[s._v(" "+s._s(s.user.level)+" ")]),e("td")])])])])]),e("div",{staticClass:"profile-mobile-nav"},[e("button",{staticClass:"profile-mobile-nav__btn left-btn",class:{active:"tasks"===s.screenMobile},on:{click:function(t){return s.changeScreenMobile("tasks")}}},[s._v(" Задачи ")]),e("button",{staticClass:"profile-mobile-nav__btn right-btn",class:{active:"achieves"===s.screenMobile},on:{click:function(t){return s.changeScreenMobile("achieves")}}},[s._v(" Достижения ")])]),e("div",{staticClass:"column-wrap wrap__tasks",class:{hide:"all"!==s.screenMobile&&"tasks"!==s.screenMobile}},[e("div",{staticClass:"tasks",style:{height:s.commonHeight}},[e("h2",{staticClass:"tasks__title"},[s._v("Список задач")]),s._l(s.tasks,(function(s){return e("Task",{key:s.id,staticClass:"tasks__item",attrs:{data:s}})}))],2)]),e("div",{staticClass:"column-wrap wrap__achieves",class:{hide:"all"!==s.screenMobile&&"achieves"!==s.screenMobile}},[e("div",{staticClass:"achievements",style:{height:s.commonHeight}},[e("h2",{staticClass:"achievements__title"},[s._v("Ачивки")]),e("div",{staticClass:"achievements__inner"},s._l(s.user.achievements,(function(s){return e("div",{key:s.id,staticClass:"achievements__inner-item"},[e("img",{staticClass:"achievements__inner-item__image",attrs:{alt:"",src:"completed"!==s.status?"https://via.placeholder.com/150/f7d9b9":s.img}})])})),0)])])])])},i=[],r=(e("96cf"),e("1da1")),o=e("5530"),n=e("b0cb"),l=e.n(n),c=e("7d16"),_=e.n(c),p=e("4ed0"),d=e.n(p),v=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"progressbar"},[e("span",{staticClass:"progressbar__value"},[s._v(s._s(s.percent)+"%")]),e("div",{staticClass:"progressbar__bar",style:{width:s.percent+"%"}})])},h=[],u=(e("a9e3"),{name:"ProgressBar",props:{percent:{type:Number,default:0}}}),f=u,g=(e("5fd1"),e("2877")),w=Object(g["a"])(f,v,h,!1,null,"d76248d6",null),m=w.exports,C=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"task"},[e("h4",{staticClass:"task__name"},[s._v(s._s(s.data.taskname))]),e("ProgressBar",{staticClass:"progressbar",attrs:{percent:s.data.progress}}),e("div",{staticClass:"task__info"},[e("p",{staticClass:"task__type"},[s._v("тип: "+s._s(s.data.type))]),e("p",{staticClass:"task__deadline"},[s.showMore?e("span",[s._v("Дэдлайн: ")]):e("span",[s._v("До: ")]),s._v(" "+s._s(s.data.deadline)+" ")]),e("div",{staticClass:"task__awards"},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.showMore,expression:"showMore"}]},[s._v("Награда:")]),e("div",{staticClass:"task__awards-content"},[e("div",{staticClass:"task__awards-content-item"},[e("CoinSvg",{staticClass:"task__awards-icon"}),s._v(" "+s._s(s.data.reward.coins)+" ")],1),e("div",{staticClass:"task__awards-content-item"},[e("LightningSvg",{staticClass:"task__awards-icon"}),s._v(" "+s._s(s.data.reward.lightnings)+" ")],1)])]),e("p",{directives:[{name:"show",rawName:"v-show",value:s.showMore,expression:"showMore"}],staticClass:"task__difficulty"},[s._v(" Сложность: "+s._s(s.data.difficulty)+" ")]),e("ol",{directives:[{name:"show",rawName:"v-show",value:s.showMore,expression:"showMore"}],staticClass:"task__subtasks"},[e("h6",{staticClass:"task__subtasks-title"},[s._v("Подзадачи")]),s._l(s.data.subtasks,(function(t){return e("li",{key:t.id,style:["done"==t.status?{"text-decoration":"line-through"}:{"text-decoration":"none"}]},[s._v(" "+s._s(t.id)+". "+s._s(t.title)+" ")])}))],2),e("div",{directives:[{name:"show",rawName:"v-show",value:s.showMore,expression:"showMore"}],staticClass:"task__desc"},[e("h6",{staticClass:"task__desc-title"},[s._v("Описание")]),e("p",{staticClass:"task__desc-text"},[s._v(s._s(s.data.desc))])])]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.showMore,expression:"showMore"}],staticClass:"task__toggle-inp",attrs:{id:"task__toggle"+s.data.id,type:"checkbox"},domProps:{checked:Array.isArray(s.showMore)?s._i(s.showMore,null)>-1:s.showMore},on:{change:function(t){var e=s.showMore,a=t.target,i=!!a.checked;if(Array.isArray(e)){var r=null,o=s._i(e,r);a.checked?o<0&&(s.showMore=e.concat([r])):o>-1&&(s.showMore=e.slice(0,o).concat(e.slice(o+1)))}else s.showMore=i}}}),e("label",{staticClass:"task__toggle",attrs:{for:"task__toggle"+s.data.id}},[e("div",{staticClass:"arrow"}),e("div",{staticClass:"dot"})])],1)},k=[],b={name:"Task",components:{ProgressBar:m,CoinSvg:l.a,LightningSvg:d.a},props:{data:{type:Object,default:function(){}}},data:function(){return{showMore:!1}}},M=b,x=(e("c9d5"),Object(g["a"])(M,C,k,!1,null,"2ae51da8",null)),y=x.exports,H=e("2f62"),S=e("c181"),j={name:"Profile",components:{CoinSvg:l.a,HeartSvg:_.a,LightningSvg:d.a,ProgressBar:m,Task:y},data:function(){return{commonHeight:"",windowWidth:window.innerWidth,screenMobile:window.innerWidth>768?"all":"tasks",user:Object.assign({},this.$store.getters.getUserData),tasks:Object.assign({},this.$store.getters.getTasks)}},computed:Object(o["a"])(Object(o["a"])({},Object(H["c"])(["getUserData"])),{},{date:function(){var s=this.getUserData.task.deadline,t=s.getMonth()+1,e=s.getDate();return t=t<10?"0"+t:t,e=e<10?"0"+e:e,e+"."+t+"."+s.getFullYear()}}),watch:{windowWidth:function(s){s>768&&"all"!==this.screenMobile&&(this.matchHeight(),this.screenMobile="all"),s<768&&"all"===this.screenMobile&&(this.commonHeight="auto",this.screenMobile="tasks")}},mounted:function(){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S["a"].get("/api/teams/");case 2:e=t.sent,console.log(e),s.$nextTick((function(){window.addEventListener("resize",s.onResize)}));case 5:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{changeScreenMobile:function(s){this.screenMobile=s},onResize:function(){this.windowWidth=window.innerWidth,this.$refs.profile.clientHeight!==this.commonHeight&&this.matchHeight()},matchHeight:function(){this.windowWidth>768&&(this.commonHeight=this.$refs.profile.clientHeight+"px")}}},O=j,$=(e("652f"),Object(g["a"])(O,a,i,!1,null,"42bb30fe",null));t["default"]=$.exports}}]);
//# sourceMappingURL=chunk-4742e248.65910710.js.map